<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8f9fa"/>

  <!-- On-Premise section -->
  <rect x="50" y="50" width="1100" height="200" rx="10" fill="#f5f5f5" stroke="#757575" stroke-width="2" stroke-dasharray="8,4"/>
  <text x="600" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#757575">On-Premise</text>

  <!-- 3D Printer with Dual WebRTC -->
  <rect x="450" y="100" width="300" height="120" rx="8" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
  <text x="600" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4caf50">3D Printer</text>
  <text x="600" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4caf50">(Dual WebRTC + MQTT)</text>
  <text x="600" y="170" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">MODIFIED</text>

  <!-- Cloud A - Mosaic -->
  <rect x="50" y="300" width="550" height="450" rx="10" fill="#e3f2fd" stroke="#1976d2" stroke-width="2"/>
  <text x="355" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1976d2">Mosaic (AWS)</text>

  <!-- Mosaic Components -->
  <!-- KVS WebRTC -->
  <rect x="100" y="360" width="180" height="80" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
  <text x="190" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4caf50">KVS WebRTC</text>
  <text x="190" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4caf50">Signaling Channels</text>
  <text x="190" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">EXISTING</text>

  <!-- AWS IoT Core Mosaic -->
  <rect x="370" y="360" width="180" height="80" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
  <text x="460" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4caf50">AWS IoT Core</text>
  <text x="460" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4caf50">MQTT Broker</text>
  <text x="460" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">EXISTING</text>

  <!-- Mosaic Applications -->
  <rect x="200" y="500" width="200" height="80" rx="5" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2"/>
  <text x="300" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9c27b0">Mosaic Applications</text>
  <text x="300" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#9c27b0">Production Management</text>
  <text x="300" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">EXISTING</text>

  <!-- Cloud B - Factbird -->
  <rect x="650" y="300" width="500" height="450" rx="10" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="850" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#7b1fa2">Factbird (AWS)</text>

  <!-- Factbird Components -->
  <!-- KVS WebRTC -->
  <rect x="700" y="360" width="180" height="80" rx="5" fill="#fff8e1" stroke="#ff9800" stroke-width="2"/>
  <text x="790" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ff9800">KVS WebRTC</text>
  <text x="790" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#ff9800">Signaling Channels</text>
  <text x="790" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">NEW</text>

  <!-- AWS IoT Core Factbird -->
  <rect x="920" y="360" width="180" height="80" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="1010" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2196f3">AWS IoT Core</text>
  <text x="1010" y="405" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#2196f3">MQTT Broker</text>
  <text x="1010" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">EXISTING</text>

  <!-- Bridge Component - HIGHLIGHTED -->
  <rect x="700" y="460" width="180" height="80" rx="8" fill="#fff8e1" stroke="#ff9800" stroke-width="4" stroke-dasharray="5,5"/>
  <text x="790" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#ff9800">WebRTC to KVS</text>
  <text x="790" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#ff9800">Storage Bridge</text>
  <text x="790" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#ff9800">CUSTOM DEVELOPMENT</text>

  <!-- KVS Storage -->
  <rect x="920" y="460" width="180" height="80" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2"/>
  <text x="1010" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2196f3">KVS Storage</text>
  <text x="1010" y="505" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#2196f3">Video Storage</text>
  <text x="1010" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">EXISTING</text>

  <!-- Factbird Applications -->
  <rect x="750" y="580" width="300" height="80" rx="5" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2"/>
  <text x="900" y="605" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#9c27b0">Factbird Applications</text>
  <text x="900" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#9c27b0">Video Analytics + MQTT Processing</text>
  <text x="900" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">EXISTING</text>

  <!-- Connection Lines -->
  <!-- Printer to Mosaic WebRTC -->
  <path d="M 550 220 Q 350 270 190 360" stroke="#4caf50" stroke-width="3" fill="none" marker-end="url(#arrowgreen)"/>arrowgreen
  <text x="250" y="290" font-family="Arial, sans-serif" font-size="11" fill="#4caf50" font-weight="bold">WebRTC #1</text>

  <!-- Printer to Mosaic MQTT -->
  <path d="M 600 220 Q 530 270 460 360" stroke="#4caf50" stroke-width="3" fill="none" marker-end="url(#arrowgreen)"/>
  <text x="470" y="290" font-family="Arial, sans-serif" font-size="11" fill="#4caf50" font-weight="bold">MQTT</text>

  <!-- Printer to Factbird WebRTC -->
  <path d="M 650 220 Q 720 270 790 360" stroke="#ff9800" stroke-width="4" fill="none" marker-end="url(#arroworange)"/>
  <text x="750" y="290" font-family="Arial, sans-serif" font-size="11" fill="#ff9800" font-weight="bold">WebRTC #2</text>

  <!-- Printer to Factbird MQTT -->
  <path d="M 700 220 Q 850 270 1010 360" stroke="#ff9800" stroke-width="3" fill="none" marker-end="url(#arroworange)"/>
  <text x="890" y="290" font-family="Arial, sans-serif" font-size="11" fill="#ff9800" font-weight="bold">MQTT</text>

  <!-- Factbird WebRTC to Bridge -->
  <path d="M 790 440 Q 790 450 790 460" stroke="#ff9800" stroke-width="4" fill="none" marker-end="url(#arroworange)"/>
  <text x="710" y="455" font-family="Arial, sans-serif" font-size="11" fill="#ff9800" font-weight="bold">Stream</text>

  <!-- Bridge to KVS Storage -->
  <path d="M 880 500 Q 900 500 920 500" stroke="#e91e63" stroke-width="4" fill="none" marker-end="url(#arrowpink)"/>
  <text x="890" y="485" font-family="Arial, sans-serif" font-size="11" fill="#e91e63" font-weight="bold">Store</text>

  <!-- Mosaic internal flows -->
  <path d="M 190 440 Q 250 460 280 500" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#arrowpurple)"/>
  <path d="M 460 440 Q 400 460 320 500" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#arrowpurple)"/>

  <!-- Factbird internal flows -->
  <path d="M 1010 540 Q 950 560 930 580" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#arrowpurple)"/>
  <path d="M 1010 440 Q 940 450 900 580" stroke="#9c27b0" stroke-width="3" fill="none" marker-end="url(#arrowpurple)"/>

  <!-- Legend -->
  <rect x="950" y="30" width="220" height="150" rx="5" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="1035" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Legend</text>

  <rect x="970" y="65" width="15" height="10" fill="#e8f5e8" stroke="#4caf50"/>
  <text x="995" y="75" font-family="Arial, sans-serif" font-size="11" fill="#333">Existing Mosaic Infrastructure</text>

  <rect x="970" y="85" width="15" height="10" fill="#e3f2fd" stroke="#2196f3"/>
  <text x="995" y="95" font-family="Arial, sans-serif" font-size="11" fill="#333">Existing Factbird Infrastructure</text>

  <rect x="970" y="105" width="15" height="10" fill="#fff8e1" stroke="#ff9800"/>
  <text x="995" y="115" font-family="Arial, sans-serif" font-size="11" fill="#333">New Factbird Infrastructure</text>

  <rect x="970" y="125" width="15" height="10" fill="#fff8e1" stroke="#ff9800" stroke-dasharray="2,2"/>
  <text x="995" y="135" font-family="Arial, sans-serif" font-size="11" fill="#333">Custom Development</text>

  <rect x="970" y="145" width="15" height="10" fill="#f5f5f5" stroke="#757575" stroke-dasharray="3,3"/>
  <text x="995" y="155" font-family="Arial, sans-serif" font-size="11" fill="#333">On-Premise</text>

  <text x="130" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">Option 3: Dual WebRTC Producers</text>

  <!-- Unknowns box -->
  <rect x="530" y="680" width="200" height="120" rx="5" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="630" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Unknowns</text>
  <text x="630" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Complexity of bridge</text>
  <text x="630" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Runtime cost implications</text>
  <text x="630" y="765" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Printer firmware modifications</text>

  <!-- Benefits box -->
  <rect x="300" y="680" width="200" height="120" rx="5" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="400" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Benefits</text>
  <text x="400" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• No additional hardware</text>
  <text x="400" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Independent systems</text>
  <text x="400" y="765" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Reuses existing camera</text>

  <!-- Downsides box -->
  <rect x="70" y="680" width="200" height="120" rx="5" fill="#fff" stroke="#666" stroke-width="1"/>
  <text x="170" y="705" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333">Downsides</text>
  <text x="170" y="725" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Printer modifications needed</text>
  <text x="170" y="745" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Dual video stream overhead</text>
  <text x="170" y="765" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Bridge development</text>
  <text x="170" y="785" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">• Network bandwidth</text>


  <!-- Arrow markers -->
  <defs>
    <marker id="arrowgreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#4caf50"/>
    </marker>
    <marker id="arrowblue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#2196f3"/>
    </marker>
    <marker id="arroworange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#ff9800"/>
    </marker>
    <marker id="arrowpink" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#e91e63"/>
    </marker>
    <marker id="arrowpurple" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#9c27b0"/>
    </marker>
  </defs>
</svg>
